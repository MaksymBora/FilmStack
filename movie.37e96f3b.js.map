{"mappings":"oeAAAA,EAAA,S,iBCAO,SAASC,EAAuBC,GACrC,MAAMC,EAAMD,EAASE,QACfC,EAAYC,SAASC,cAAc,oBAEnCC,EAAkBL,EACrBM,KAAI,EAACC,YAAEA,EAAWC,MAAEA,EAAKC,aAAEA,EAAYC,aAAEA,EAAYC,GAAEA,KAEvC,iBACPA,yLAK4BJ,oBAC/BC,yKAOkBA,+CAGRC,MAAiBA,kOAlBbG,KAAKC,MAAuB,GAAjBD,KAAKE,UAA6B,yHAiC1DJ,EAAaK,QAAQ,+DAQ5BC,KAAK,IAERd,EAAUe,mBAAmB,YAAaZ,E,CChD5C,MAAMa,EAAgB,IAAI,GAD1BC,EAAAtB,EAAA,UAC0BuB,SAIpBC,EAAclB,SAASC,cAAc,6BAQ3C,MAAMkB,EAAgBnB,SAASC,cAAc,kBAGtC,SAASmB,EAAmBC,GACjC,MAAMC,EAAYD,EAAEE,OAAOC,WAAWC,KAAKC,MAErCC,EAAc3B,SAASC,cAAc,QACrCF,EAAYC,SAASC,cAAc,oBAEzCc,EAAca,YACW,IAArBN,EAAUO,QACZd,EAAce,UAAYR,EAE1BK,EAAYI,gBAAgB,MAC5BJ,EAAYK,aAAa,KAAMV,GAE/BvB,EAAUkC,UAAY,GACtBlB,EAAcmB,mBAAmBC,MAAKC,IACpCzC,EAAuByC,GACvBC,EAAgBD,EAAOE,YAAY,MAGrCvC,EAAUkC,UAAY,GACtBlB,EAAcwB,mBAAmBJ,KAAKxC,G,CAG1C,SAAS0C,EAAgBG,GACnBzB,EAAc0B,KAAOD,GACvBtB,EAAYwB,MAAMC,QAAU,OAC5BxB,EAAcuB,MAAMC,QAAU,SAE9BxB,EAAcuB,MAAMC,QAAU,M,CA9BlCxB,EAAcyB,iBAAiB,SAP/B,WACE7B,EAAcmB,mBAAmBC,MAAKC,IACpCzC,EAAuByC,GACvBC,EAAgBD,EAAOE,YAAY,G,IFLvC,MAAMO,EAAgB,IAAI,EAAA7B,EAAAC,SAG1B4B,EAAcN,mBAAmBJ,KAAKxC,GAGlBK,SAASC,cAAc,6BAG/B2C,iBAAiB,SAE7B,WACEC,EAAcN,mBAAmBJ,KAAKxC,E,IAGnBK,SAAS8C,iBAAiB,iBAGlCC,SAAQ,SAAUC,GAC7BA,EAAIJ,iBAAiB,QAASxB,E","sources":["src/js/partials/movie.js","src/js/partials/renderingallmovies.js","src/js/genrefilter.js"],"sourcesContent":["import '../partials/header';\nimport NewApiService from '../get-api';\nimport { renderingAllMoviesList } from '../partials/renderingallmovies';\nimport { handlerGenreFilter } from '../genrefilter';\n\nconst newApiService = new NewApiService();\n\n// Rendering movies list\nnewApiService.getAllMoviesList().then(renderingAllMoviesList);\n\n// Show More Button\nconst loadMoreBtn = document.querySelector('[data-action=\"load-more\"]');\n\n// Rendering more movies on click Show More Btn\nloadMoreBtn.addEventListener('click', onLoadMore);\n\nfunction onLoadMore() {\n  newApiService.getAllMoviesList().then(renderingAllMoviesList);\n}\n\nconst selectGenere = document.querySelectorAll('[data-filter]');\n\n// Listening filters btn\nselectGenere.forEach(function (btn) {\n  btn.addEventListener('click', handlerGenreFilter);\n});\n","export function renderingAllMoviesList(response) {\n  const arr = response.results;\n  const movieList = document.querySelector('.all-movies-list');\n\n  const movieListMarkup = arr\n    .map(({ poster_path, title, release_date, vote_average, id }) => {\n      const randomTime = Math.floor(Math.random() * (111 - 92 + 1)) + 92;\n      const markup = `\n    <li id=\"${id}\">\n\t\t<div class=\"movie-card\">\n\t\t\t<a href=\"movie-details.html\" target=\"_blank\">\n\t\t\t<figure class=\"card-banner\">\n\t\t\t\t<img\n\t\t\t\tsrc=\"https://image.tmdb.org/t/p/w300${poster_path}\"\n\t\t\t\talt=\"${title}\"\n\t\t\t\t/>\n\t\t\t</figure>\n\t\t\t</a>\n\n\t\t\t<div class=\"title-wrapper\">\n\t\t\t<a href=\"movie-details.html\" target=\"_blank\">\n\t\t\t\t<h3 class=\"card-title\">${title}</h3>\n\t\t\t</a>\n\n\t\t\t<time datetime=\"${release_date}\">${release_date}</time>\n\t\t\t</div>\n\n\t\t\t<div class=\"card-meta\">\n\t\t\t<div class=\"badge badge-outline\">HD</div>\n\n\t\t\t<div class=\"duration\">\n\t\t\t\t<ion-icon name=\"time-outline\"></ion-icon>\n\n\t\t\t\t<time datetime=\"PT137M\">${randomTime} min</time>\n\t\t\t</div>\n\n\t\t\t<div class=\"rating\">\n\t\t\t\t<ion-icon name=\"star\"></ion-icon>\n\n\t\t\t\t<data>${vote_average.toFixed(1)}</data>\n\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</li>`;\n\n      return markup;\n    })\n    .join('');\n\n  movieList.insertAdjacentHTML('beforeend', movieListMarkup);\n}\n","import NewApiService from './get-api';\nconst newApiService = new NewApiService();\n\nimport { renderingAllMoviesList } from './partials/renderingallmovies';\n\nconst loadMoreBtn = document.querySelector('[data-action=\"load-more\"]');\n\nfunction onPaginate() {\n  newApiService.getMovieOnSearch().then(movies => {\n    renderingAllMoviesList(movies);\n    checkPagination(movies.total_pages);\n  });\n}\nconst paginationBtn = document.querySelector('#paginationBtn');\npaginationBtn.addEventListener('click', onPaginate);\n\nexport function handlerGenreFilter(e) {\n  const genreName = e.target.attributes.name.value;\n\n  const mainSection = document.querySelector('main');\n  const movieList = document.querySelector('.all-movies-list');\n\n  newApiService.resetPage();\n  if (genreName.length !== 0) {\n    newApiService.sortGenre = genreName;\n\n    mainSection.removeAttribute('id');\n    mainSection.setAttribute('id', genreName);\n\n    movieList.innerHTML = '';\n    newApiService.getMovieOnSearch().then(movies => {\n      renderingAllMoviesList(movies);\n      checkPagination(movies.total_pages);\n    });\n  } else {\n    movieList.innerHTML = '';\n    newApiService.getAllMoviesList().then(renderingAllMoviesList);\n  }\n}\nfunction checkPagination(totalPages) {\n  if (newApiService.page < totalPages) {\n    loadMoreBtn.style.display = 'none';\n    paginationBtn.style.display = 'block';\n  } else {\n    paginationBtn.style.display = 'none';\n  }\n}\n"],"names":["parcelRequire","$8ea1537e300e88de$export$5f73ceaeaba4d062","response","arr","results","movieList","document","querySelector","movieListMarkup","map","poster_path","title","release_date","vote_average","id","Math","floor","random","toFixed","join","insertAdjacentHTML","$9839b6d6ad281858$var$newApiService","$hPmNI","default","$9839b6d6ad281858$var$loadMoreBtn","$9839b6d6ad281858$var$paginationBtn","$9839b6d6ad281858$export$ce8fe68685b2e05e","e","genreName","target","attributes","name","value","mainSection","resetPage","length","sortGenre","removeAttribute","setAttribute","innerHTML","getMovieOnSearch","then","movies","$9839b6d6ad281858$var$checkPagination","total_pages","getAllMoviesList","totalPages","page","style","display","addEventListener","$648d38f3f5a1e0ef$var$newApiService","querySelectorAll","forEach","btn"],"version":3,"file":"movie.37e96f3b.js.map"}